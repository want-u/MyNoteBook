# 爬虫问题
[toc]

### Pip安装

    清华源：
     -i https://pypi.tuna.tsinghua.edu.cn/simple  --trusted-host pypi.tuna.tsinghua.edu.cn
     
    模块地址：
     https://www.lfd.uci.edu/~gohlke/pythonlibs/


###  'Remote end closed connection without response'

    requests.get反复请求, 应该是tcp连接次数过多.
    利用requests模块提供的session来解决就好了

### AttributeError: 'str' object has no attribute 'items'

    str类型没有items属性，items属性是字典的属性。
    此处是因为headers本应为dict，实际传入了str
    
### InsecureRequestWarning: Unverified HTTPS request is being made Adding certificate verification is strongly advised. 

    
    这里是由于这个网页的证书没有被官方CA机构信任，所以这里会出现证书验证的错误。
    import requests
    requests.packages.urllib3.disable_warnings()
    response = requests.get(url, verify=False)
    
### error: command 'gcc' failed with exit status 1

    1、安装运行库：
    yum install gcc libffi-devel python-devel openssl-devel -y
    
    2、若python3是使用yum安装的，则安装python3的devel环境
    yum install python3-devel -y
    
    
### Max retries exceeded with url 

    # http连接太多没有关闭导致
        
    requests.DEFAULT_RETRIES = 5  # 增加重试连接次数
    ret = requests.get(url=url, headers=headers, timeout=300)  # 设置超时时间